runs-on: windows-2022
# Containers are not supported on Windows.
# container: ghcr.io/pragmatrix/rust-skia-windows:latest
env: 
  SKIA_DEBUG: $[[skiaDebug]]

steps:
- uses: actions/checkout@v3
  with:
    submodules: true

- name: Install Rust
  uses: hecrj/setup-rust-action@v1.4.0
  with:
    rust-version: $[[rustToolchain]]

- name: Install Clippy
  run: rustup component add clippy
  shell: bash

- name: Python Version
  run: python --version

# 19.1.7 breaks the Skia build, see <https://github.com/rust-skia/rust-skia/issues/1109> for details.
- name: Install LLVM 19.1.5
  run: choco install llvm --version=19.1.5 --allow-downgrade

- name: Install Ninja
  run: choco install ninja
